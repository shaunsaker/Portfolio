var Cell=React.createClass({displayName:"Cell",alive:{"background-color":"red"},dead:{"background-color":"black"},render:function(){return React.createElement("div",{style:1===this.props.value?this.alive:this.dead,x:this.props.x,y:this.props.y})}}),Game=React.createClass({displayName:"Game",width:30,height:30,interval:"",speed:500,neighbors:[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],nextGeneration:[],getInitialState:function(){return{cells:this.createBoard(),generations:0}},gameRun:function(){this.interval=setInterval(this.gameStart,this.speed)},gameStart:function(){this.nextGeneration=this.getNextGeneration(),this.setState({generations:this.state.generations+1}),this.setState({cells:this.nextGeneration})},gamePause:function(){clearInterval(this.interval)},gameClear:function(){clearInterval(this.interval),this.setState({generations:0}),this.setState({cells:this.state.cells.map(function(t){return t.map(function(t){return 0})})})},gameReset:function(){clearInterval(this.interval),this.setState({generations:0}),this.setState({cells:this.createBoard()}),this.gameRun()},changeSize:function(t){switch(this.setState({generations:0}),clearInterval(this.interval),t.target.innerHTML){case"25 x 25":this.width=25,this.height=25;break;case"50 x 25":this.width=50,this.height=25;break;default:this.width=30,this.height=25}this.setState({cells:this.createBoard()});var e=15*this.width+"px";$(".board").css("width",e),this.gameRun()},changeSpeed:function(t){switch(clearInterval(this.interval),t.target.innerHTML){case"Slow":this.speed=1e3;break;case"Fast":this.speed=100;break;default:this.speed=500}this.gameRun()},createBoard:function(){for(var t=new Array(this.height),e=0;e<this.height;e++){t[e]=new Array(this.width);for(var a=0;a<this.width;a++)t[e][a]=Math.random()<.5?1:0}return t},createSquares:function(t,e){return t.map(function(t,a){return React.createElement(Cell,{x:e,y:a,value:t})})},getNextGeneration:function(){return this.getNeighbours().map(function(t,e){return t.map(function(t,a){return 1===this.state.cells[e][a]&&2===t||3===t?1:0},this)},this)},getNeighbours:function(){var t=this;return t.state.cells.map(function(e,a){return e.map(function(e,n){return t.neighbors.map(function(e){var i=e[0]+a,s=e[1]+n;return-1===i?i=t.height-1:i===t.height&&(i=0),-1===s?s=t.width-1:s===t.width&&(s=0),t.state.cells[i][s]}).reduce(function(t,e){return t+e})},t)},t)},componentDidMount:function(){var t=15*this.width+"px";$(".board").css("width",t),this.gameRun()},render:function(){return React.createElement("div",null,React.createElement("h1",null,"Conway's Game of Life"),React.createElement("p",null,"Generation: ",this.state.generations),React.createElement("div",{className:"text-center"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.gameRun},"Start"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.gameReset},"Reset"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.gamePause},"Pause"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.gameClear},"Clear")),React.createElement("div",{className:"text-center"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSize},"25 x 25"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSize},"30 x 25"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSize},"50 x 25")),React.createElement("div",{className:"text-center"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSpeed},"Slow"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSpeed},"Medium"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.changeSpeed},"Fast")),React.createElement("div",{className:"board"},this.state.cells.map(this.createSquares)))}});ReactDOM.render(React.createElement(Game,null),document.getElementById("app"));